# Architecture

Aquarium uses [Facebook's Flux architecture](https://facebook.github.io/flux/docs/overview.html) 
to model data flow and user interactions throughout the application:

![Flux diagram](http://i.imgur.com/ccDuA5q.png)

We are using the following components as part of this Flux architecture:

### Dispatcher

### Actions

### Stores

### Views

See diagram below:

```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   
┃                                          Actions                                           ┃   
┃                                                                                            ┃   
┃        Window                 Terminal             AutoComplete              Sidebar       ┃   
┃ ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────┐ ┃   
┃ │   resizeWindow    │  │  attachTerminal   │  │    selectPrev     │  │searchDocumentation│ ┃   
┃ └───────────────────┘  └───────────────────┘  └───────────────────┘  └───────────────────┘ ┃   
┃                        ┌───────────────────┐  ┌───────────────────┐                        ┃◀─┐
┃                        │      typeKey      │  │    selectNext     │                        ┃  │
┃                        └───────────────────┘  └───────────────────┘                        ┃  │
┃                        ┌───────────────────┐  ┌───────────────────┐                        ┃  │
┃                        │   receiveOutput   │  │ confirmSuggestion │                        ┃  │
┃                        └───────────────────┘  └───────────────────┘                        ┃  │
┃                                                                                            ┃  │
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  │
                                               │                                                │
                                               │                                                │
                                               ▼                                                │
                                    ┏━━━━━━━━━━━━━━━━━━━━━┓                                     │
                                    ┃                     ┃                                     │
                                    ┃                     ┃                                     │
                                    ┃    AppDispatcher    ┃                                     │
                                    ┃                     ┃                                     │
                                    ┃                     ┃                                     │
                                    ┗━━━━━━━━━━━━━━━━━━━━━┛                                     │
                                               │                                                │
                                               │                                                │
                                               ▼                                                │
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓  │
┃                                           Stores                                           ┃  │
┃                                                                                            ┃  │
┃ ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────┐ ┃  │
┃ │Window             │  │Terminal           │  │AutoComplete       │  │Sidebar            │ ┃  │
┃ │                   │  │                   │  │                   │  │                   │ ┃  │
┃ │* width            │  │* term             │  │* command          │  │* searchResults    │ ┃  │
┃ │* height           │  │* width            │  │* cursor           │  │                   │ ┃  │
┃ │                   │  │* height           │  │* suggestions      │  │                   │ ┃  │
┃ │                   │  │                   │  │* selectedIndex    │  │                   │ ┃  │
┃ └───────────────────┘  └───────────────────┘  └───────────────────┘  └───────────────────┘ ┃  │
┃ ┌───────────────────┐  ┌───────────────────┐                                               ┃  │
┃ │Shell              │  │Command            │                                               ┃  │
┃ │                   │  │                   │                                               ┃  │
┃ │* shell            │  │* commands         │                                               ┃  │
┃ │                   │  │                   │                                               ┃  │
┃ │                   │  │                   │                                               ┃  │
┃ │                   │  │                   │                                               ┃  │
┃ └───────────────────┘  └───────────────────┘                                               ┃  │
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  │
                                               │                                                │
                                               │                                                │
                                               ▼                                                │
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓  │
┃                                       Views (React)                                        ┃  │
┃                                                                                            ┃  │
┃ ┌──────────────────────────────────────────┐  ┌──────────────────────────────────────────┐ ┃  │
┃ │Terminal         ┌──────────────────────┐ │  │Sidebar          ┌──────────────────────┐ │ ┃  │
┃ │                 │AutoCompleteSuggestion│ │  │                 │Entry                 │ │ ┃  │
┃ │* suggestions    │                      │ │  │* searchResults  │                      │ │ ┃  │
┃ │* selectedIndex  │* name                │ │  │                 │* name                │ │ ┃  │
┃ │                 │* description         │ │  │                 │* description         │ │ ┃  │
┃ │                 │* isSelected          │ │  │                 │* examples            │ │ ┃──┘
┃ │                 └──────────────────────┘ │  │                 │ ┌───────────────┐    │ │ ┃   
┃ └──────────────────────────────────────────┘  │                 │ │EntryExample   │    │ │ ┃   
┃                                               │                 │ │               │    │ │ ┃   
┃                                               │                 │ │* code         │    │ │ ┃   
┃                                               │                 │ │* description  │    │ │ ┃   
┃                                               │                 │ └───────────────┘    │ │ ┃   
┃                                               │                 └──────────────────────┘ │ ┃   
┃                                               └──────────────────────────────────────────┘ ┃   
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
```
